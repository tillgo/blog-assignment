<script src='/filterArticles.js'></script>

<div class='flex flex-col gap-8 w-full'>
    <div class='flex justify-between'>
        <h1 class='text-4xl font-semibold'>All Articles</h1>
        <a
            href='/blog/new'
            class='inline-flex h-10 items-center justify-center whitespace-nowrap rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2'
        >
            Write Article
        </a>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <section class='row-start-1 lg:col-start-3'>
            <form id="filter-articles-form" class="flex flex-col w-full bg-background border rounded-lg p-4 gap-3">
                <h2 class="text-lg font-semibold">Filter Options</h2>

                {{> input label='Search' id='search' name='search' type='text' placeholder='Search for articles' }}

                {{> input label='Author' id='author' name='author' type='text' placeholder='Author name or exact email' }}

                {{> input label='Tag' id='tag' name='tag' type='text' placeholder='Tag' }}

                <div class="flex justify-end">
                    <button
                        type="submit"
                        class='inline-flex h-10 items-center justify-center whitespace-nowrap rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2'
                    >
                        Search
                    </button>
                </div>
            </form>
        </section>
        <div class='flex flex-col gap-8 col-span-1 lg:col-span-2'>
            {{#if articles.length}}
                {{#each articles}}
                    {{> article-preview this }}
                {{/each}}
            {{else}}
                <p class="italic text-sm">no articles found</p>
            {{/if}}
        </div>
    </div>


</div>